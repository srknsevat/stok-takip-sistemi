# Railway Deployment Configuration

# Server Configuration
server.port=${PORT:8080}
server.servlet.context-path=/

# Database Configuration (Railway PostgreSQL)
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/stoktakip_ecommerce}
spring.datasource.username=${DB_USERNAME:stoktakip_user}
spring.datasource.password=${DB_PASSWORD:stoktakip_pass}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# SQL init files
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:schema.sql,classpath:schema-ecommerce.sql
spring.sql.init.data-locations=classpath:data.sql,classpath:data-ecommerce.sql

# Redis Configuration (Railway Redis)
spring.data.redis.host=${REDIS_URL:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.ssl=false

# RabbitMQ Configuration (Railway RabbitMQ)
spring.rabbitmq.host=${RABBITMQ_URL:localhost}
spring.rabbitmq.port=${RABBITMQ_PORT:5672}
spring.rabbitmq.username=${RABBITMQ_USERNAME:guest}
spring.rabbitmq.password=${RABBITMQ_PASSWORD:guest}

# Encryption Configuration
app.encryption.key=${ENCRYPTION_KEY:defaultEncryptionKey123456789012345678901234567890}

# E-commerce Platform API Endpoints
ecommerce.ebay.api.endpoint=${EBAY_API_ENDPOINT:https://api.ebay.com}
ecommerce.shopify.api.endpoint=${SHOPIFY_API_ENDPOINT:https://your-shop.myshopify.com}
ecommerce.amazon.api.endpoint=${AMAZON_API_ENDPOINT:https://sellingpartnerapi-na.amazon.com}
ecommerce.trendyol.api.endpoint=${TRENDYOL_API_ENDPOINT:https://api.trendyol.com}

# E-commerce Platform API Credentials
ecommerce.ebay.client-id=${EBAY_CLIENT_ID:}
ecommerce.ebay.client-secret=${EBAY_CLIENT_SECRET:}
ecommerce.ebay.ru-name=${EBAY_RUNAME:}

ecommerce.shopify.api-key=${SHOPIFY_API_KEY:}
ecommerce.shopify.api-secret=${SHOPIFY_API_SECRET:}
ecommerce.shopify.access-token=${SHOPIFY_ACCESS_TOKEN:}

# Webhook Secret Keys
webhook.ebay.secret=${EBAY_WEBHOOK_SECRET:ebay_webhook_secret_key}
webhook.shopify.secret=${SHOPIFY_WEBHOOK_SECRET:shopify_webhook_secret_key}

# Sync Schedule (Cron expressions)
sync.schedule.fetch-orders=${SYNC_FETCH_ORDERS:0 0/15 * * * ?}
sync.schedule.full-stock-sync=${SYNC_FULL_STOCK:0 0 2 * * ?}

# Error Management and Retry Settings
sync.retry.max-attempts=${SYNC_MAX_ATTEMPTS:5}
sync.retry.initial-interval-ms=${SYNC_INITIAL_INTERVAL:5000}
sync.retry.multiplier=${SYNC_MULTIPLIER:2}

# Logging Configuration
logging.level.com.ornek.stoktakip=${LOG_LEVEL:INFO}
logging.level.org.springframework=${SPRING_LOG_LEVEL:WARN}
logging.level.org.hibernate=${HIBERNATE_LOG_LEVEL:WARN}
logging.level.org.springframework.web=${WEB_LOG_LEVEL:WARN}

# Mail Configuration (for error notifications)
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
management.info.env.enabled=true

# Security Configuration
spring.security.user.name=${ADMIN_USERNAME:admin}
spring.security.user.password=${ADMIN_PASSWORD:admin123}
spring.security.user.roles=ADMIN

# File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Thymeleaf Configuration
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# Internationalization
spring.messages.basename=messages
spring.messages.encoding=UTF-8
spring.messages.cache-duration=3600

# Application Info
info.app.name=Stok Takip Sistemi
info.app.description=E-ticaret entegrasyonlu stok takip sistemi
info.app.version=1.0.0
info.app.encoding=UTF-8
info.app.java.version=${java.version}
